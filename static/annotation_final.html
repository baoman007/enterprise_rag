<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIè¾…åŠ©æ ‡æ³¨å‡†ç¡®æ€§æµ‹è¯• - è°ƒè¯•ç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .content-area {
            padding: 30px;
        }

        .query-selector {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .query-btn {
            padding: 12px 20px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95em;
        }

        .query-btn:hover {
            background: #667eea;
            color: white;
        }

        .query-btn.active {
            background: #667eea;
            color: white;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .query-display {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 2px solid #e9ecef;
        }

        .query-display p {
            margin-top: 10px;
            font-size: 1.2em;
            line-height: 1.6;
        }

        .doc-item {
            background: white;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            border: 2px solid #e9ecef;
        }

        .doc-item.relevant {
            border-color: #4CAF50;
            background: #f1f8f4;
        }

        .doc-item.irrelevant {
            border-color: #f44336;
            background: #fef5f5;
        }

        .doc-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .doc-id {
            font-weight: 600;
            color: #666;
        }

        .doc-actions {
            display: flex;
            gap: 10px;
        }

        .relevant-btn {
            padding: 5px 15px;
            border: 2px solid #4CAF50;
            background: white;
            color: #4CAF50;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .relevant-btn:hover {
            background: #4CAF50;
            color: white;
        }

        .relevant-btn.active {
            background: #4CAF50;
            color: white;
        }

        .irrelevant-btn {
            padding: 5px 15px;
            border: 2px solid #f44336;
            background: white;
            color: #f44336;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .irrelevant-btn:hover {
            background: #f44336;
            color: white;
        }

        .irrelevant-btn.active {
            background: #f44336;
            color: white;
        }

        .doc-content {
            line-height: 1.8;
            color: #333;
        }

        .debug-panel {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 0.9em;
        }

        .debug-panel h4 {
            color: #856404;
            margin-bottom: 10px;
        }

        .ai-annotation {
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .ai-relevant {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .ai-irrelevant {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§ª AIè¾…åŠ©æ ‡æ³¨å‡†ç¡®æ€§æµ‹è¯• - è°ƒè¯•ç‰ˆ</h1>
        </div>

        <div class="content-area">
            <div class="debug-panel">
                <h4>ğŸ› è°ƒè¯•ä¿¡æ¯</h4>
                <div id="debug-log">é¡µé¢å·²åŠ è½½ï¼Œç­‰å¾…æ“ä½œ...</div>
            </div>

            <div class="query-selector">
                <button class="query-btn active" onclick="selectQuery(0)">é«˜è¡€å‹é¥®é£Ÿå»ºè®®</button>
                <button class="query-btn" onclick="selectQuery(1)">ç³–å°¿ç—…è¿åŠ¨æŒ‡å—</button>
                <button class="query-btn" onclick="selectQuery(2)">å† å¿ƒç—…ç—‡çŠ¶è¯†åˆ«</button>
                <button class="query-btn" onclick="selectQuery(3)">å„¿ç«¥æ„Ÿå†’æŠ¤ç†</button>
                <button class="query-btn" onclick="selectQuery(4)">è€å¹´äººé¢„é˜²è·Œå€’</button>
            </div>

            <div class="query-display">
                <p id="current-query">é«˜è¡€å‹æ‚£è€…åº”è¯¥æ³¨æ„å“ªäº›é¥®é£Ÿç¦å¿Œï¼Ÿ</p>
            </div>

            <div id="docs-container">
                <!-- åŠ¨æ€ç”Ÿæˆæ–‡æ¡£åˆ—è¡¨ -->
            </div>
        </div>
    </div>

    <script>
        // æµ‹è¯•æ•°æ®é›†
        const testQueries = [
            {
                query: "é«˜è¡€å‹æ‚£è€…åº”è¯¥æ³¨æ„å“ªäº›é¥®é£Ÿç¦å¿Œï¼Ÿ",
                documents: [
                    {
                        id: "DOC001",
                        content: "é«˜è¡€å‹æ‚£è€…åœ¨é¥®é£Ÿæ–¹é¢åº”è¯¥é¿å…é«˜ç›é£Ÿç‰©ï¼Œæ¯æ—¥ç›æ‘„å…¥é‡åº”æ§åˆ¶åœ¨6å…‹ä»¥ä¸‹ã€‚å»ºè®®å°‘åƒå’¸èœã€è…Œåˆ¶å“ã€é…±æ²¹ç­‰é«˜ç›è°ƒå‘³å“ï¼Œå¤šé£Ÿç”¨æ–°é²œè”¬èœæ°´æœã€‚",
                        isRelevant: true
                    },
                    {
                        id: "DOC002",
                        content: "ç³–å°¿ç—…æ‚£è€…éœ€è¦æ§åˆ¶ç¢³æ°´åŒ–åˆç‰©çš„æ‘„å…¥ï¼Œå»ºè®®é€‰æ‹©ä½å‡ç³–æŒ‡æ•°çš„é£Ÿç‰©ã€‚ä¸»é£Ÿå¯ä»¥é€‰æ‹©ç³™ç±³ã€å…¨éº¦é¢åŒ…ç­‰å…¨è°·ç‰©ï¼Œé¿å…ç²¾åˆ¶ç³–å’Œç”œé£Ÿã€‚",
                        isRelevant: false
                    },
                    {
                        id: "DOC003",
                        content: "é«˜è¡€å‹æ‚£è€…åº”é¿å…é«˜è„‚è‚ªé£Ÿç‰©ï¼Œç‰¹åˆ«æ˜¯é¥±å’Œè„‚è‚ªé…¸å«é‡é«˜çš„åŠ¨ç‰©è„‚è‚ªã€‚å»ºè®®é€‰æ‹©ç˜¦è‚‰ã€é±¼ç±»ç­‰ä¼˜è´¨è›‹ç™½ï¼Œå‡å°‘æ²¹ç‚¸é£Ÿå“çš„æ‘„å…¥ã€‚",
                        isRelevant: true
                    }
                ]
            },
            {
                query: "ç³–å°¿ç—…æ‚£è€…é€‚åˆåšä»€ä¹ˆè¿åŠ¨ï¼Ÿ",
                documents: [
                    {
                        id: "DOC001",
                        content: "ç³–å°¿ç—…æ‚£è€…è¿›è¡Œè¿åŠ¨æ—¶åº”é€‰æ‹©ä¸­ç­‰å¼ºåº¦çš„æœ‰æ°§è¿åŠ¨ï¼Œå¦‚å¿«èµ°ã€æ…¢è·‘ã€æ¸¸æ³³ç­‰ã€‚å»ºè®®æ¯æ¬¡è¿åŠ¨30åˆ†é’Ÿï¼Œæ¯å‘¨è‡³å°‘5æ¬¡ã€‚",
                        isRelevant: true
                    },
                    {
                        id: "DOC002",
                        content: "é«˜è¡€å‹æ‚£è€…è¿åŠ¨æ—¶éœ€è¦æ³¨æ„ç›‘æµ‹è¡€å‹ï¼Œé¿å…å‰§çƒˆè¿åŠ¨ã€‚å»ºè®®é€‰æ‹©æ•£æ­¥ã€å¤ªææ‹³ç­‰è½»åº¦è¿åŠ¨ï¼Œè¿åŠ¨æ—¶é—´æ§åˆ¶åœ¨30åˆ†é’Ÿä»¥å†…ã€‚",
                        isRelevant: false
                    },
                    {
                        id: "DOC003",
                        content: "ç³–å°¿ç—…æ‚£è€…åœ¨è¿åŠ¨å‰éœ€è¦æ£€æµ‹è¡€ç³–ï¼Œè¡€ç³–ä½äº5.6mmol/Læ—¶ä¸å®œè¿åŠ¨ã€‚è¿åŠ¨æ—¶åº”éšèº«æºå¸¦ç³–æœï¼Œä»¥é˜²ä½è¡€ç³–å‘ç”Ÿã€‚",
                        isRelevant: true
                    }
                ]
            },
            {
                query: "å† å¿ƒç—…çš„å…¸å‹ç—‡çŠ¶æœ‰å“ªäº›ï¼Ÿ",
                documents: [
                    {
                        id: "DOC001",
                        content: "å† å¿ƒç—…çš„å…¸å‹ç—‡çŠ¶æ˜¯èƒ¸ç—›ï¼Œé€šå¸¸ä½äºèƒ¸éª¨åæˆ–å¿ƒå‰åŒºï¼Œè¡¨ç°ä¸ºå‹æ¦¨æ€§ç–¼ç—›ï¼Œå¯å‘å·¦è‚©ã€å·¦è‡‚ã€ä¸‹é¢Œç­‰éƒ¨ä½æ”¾å°„ã€‚",
                        isRelevant: true
                    },
                    {
                        id: "DOC002",
                        content: "é«˜è¡€å‹çš„ä¸»è¦ç—‡çŠ¶æ˜¯å¤´ç—›ã€å¤´æ™•ã€è€³é¸£ã€å¿ƒæ…Œç­‰ã€‚å½“è¡€å‹æ˜¾è‘—å‡é«˜æ—¶ï¼Œå¯èƒ½å‡ºç°æ¶å¿ƒå‘•åã€è§†åŠ›æ¨¡ç³Šç­‰ç—‡çŠ¶ã€‚",
                        isRelevant: false
                    },
                    {
                        id: "DOC003",
                        content: "å¿ƒç»ç—›å‘ä½œæ—¶ï¼Œæ‚£è€…å¸¸ä¼´æœ‰èƒ¸é—·ã€æ°”çŸ­ã€å¿ƒæ‚¸ç­‰ç—‡çŠ¶ã€‚ç–¼ç—›é€šå¸¸æŒç»­3-5åˆ†é’Ÿï¼Œä¼‘æ¯æˆ–å«æœç¡é…¸ç”˜æ²¹åå¯ç¼“è§£ã€‚",
                        isRelevant: true
                    }
                ]
            },
            {
                query: "å„¿ç«¥æ„Ÿå†’åº”è¯¥å¦‚ä½•æŠ¤ç†ï¼Ÿ",
                documents: [
                    {
                        id: "DOC001",
                        content: "å„¿ç«¥æ„Ÿå†’æœŸé—´åº”å¤šå–æ°´ï¼Œä¿æŒå……è¶³çš„æ°´åˆ†æ‘„å…¥ã€‚æ¸©æ°´ã€æ·¡ç›æ°´ã€æœæ±éƒ½å¯ä»¥ï¼Œé¿å…ç¢³é…¸é¥®æ–™å’Œå«ç³–é¥®æ–™ã€‚",
                        isRelevant: true
                    },
                    {
                        id: "DOC002",
                        content: "æ„Ÿå†’å„¿ç«¥åº”æ³¨æ„ä¼‘æ¯ï¼Œä¿è¯å……è¶³çš„ç¡çœ ã€‚å‡å°‘æˆ·å¤–æ´»åŠ¨ï¼Œé¿å…å‰§çƒˆè¿åŠ¨ï¼Œè®©èº«ä½“æœ‰è¶³å¤Ÿçš„ç²¾åŠ›å¯¹æŠ—ç—…æ¯’ã€‚",
                        isRelevant: true
                    },
                    {
                        id: "DOC003",
                        content: "å„¿ç«¥æ„Ÿå†’åé¥®é£Ÿåº”ä»¥æ¸…æ·¡æ˜“æ¶ˆåŒ–ä¸ºä¸»ï¼Œå¦‚ç¨€ç²¥ã€é¢æ¡ã€è’¸è›‹ç­‰ã€‚é¿å…æ²¹è…»ã€è¾›è¾£é£Ÿç‰©ï¼Œä»¥å…åŠ é‡è‚ èƒƒè´Ÿæ‹…ã€‚",
                        isRelevant: true
                    },
                    {
                        id: "DOC004",
                        content: "é«˜è¡€å‹æ‚£è€…æ„Ÿå†’æ—¶åº”æ³¨æ„è¡€å‹ç›‘æµ‹ï¼Œå› ä¸ºæ„Ÿå†’å¯èƒ½å¯¼è‡´è¡€å‹æ³¢åŠ¨ã€‚æŸäº›æ„Ÿå†’è¯ï¼ˆå¦‚å«éº»é»„ç¢±çš„è¯ç‰©ï¼‰å¯èƒ½å‡é«˜è¡€å‹ã€‚",
                        isRelevant: false
                    },
                    {
                        id: "DOC005",
                        content: "å„¿ç«¥æ„Ÿå†’å‘çƒ­æ—¶ä½“æ¸©è¶…è¿‡38.5Â°Cå¯ä½¿ç”¨é€€çƒ§è¯ï¼Œå¦‚å¸ƒæ´›èŠ¬æˆ–å¯¹ä¹™é…°æ°¨åŸºé…šã€‚ç”¨è¯å‰æ³¨æ„é˜…è¯»è¯´æ˜ä¹¦ï¼ŒæŒ‰ä½“é‡è®¡ç®—å‰‚é‡ã€‚",
                        isRelevant: true
                    }
                ]
            },
            {
                query: "è€å¹´äººå¦‚ä½•é¢„é˜²è·Œå€’ï¼Ÿ",
                documents: [
                    {
                        id: "DOC001",
                        content: "è€å¹´äººå®¶ä¸­åº”å®‰è£…æ‰¶æ‰‹ï¼Œç‰¹åˆ«æ˜¯åœ¨å«ç”Ÿé—´ã€æµ´å®¤ç­‰æ¹¿æ»‘åŒºåŸŸã€‚åºŠè¾¹å’Œé©¬æ¡¶æ—çš„æ‰¶æ‰‹å¯ä»¥æä¾›é¢å¤–æ”¯æ’‘ï¼Œå‡å°‘è·Œå€’é£é™©ã€‚",
                        isRelevant: true
                    },
                    {
                        id: "DOC002",
                        content: "è€å¹´äººåº”é€‰æ‹©åˆé€‚çš„é‹å­ï¼Œé‹åº•è¦æœ‰é˜²æ»‘çº¹è·¯ï¼Œé‹è·Ÿä¸å®œè¿‡é«˜ã€‚é¿å…ç©¿æ‹–é‹æˆ–é«˜è·Ÿé‹å¤–å‡ºï¼Œé‹å­è¦åˆè„šèˆ’é€‚ã€‚",
                        isRelevant: true
                    },
                    {
                        id: "DOC003",
                        content: "å®¶ä¸­åœ°é¢åº”ä¿æŒå¹²ç‡¥ï¼ŒåŠæ—¶æ¸…ç†æ°´æ¸ã€‚æµ´å®¤åœ°é¢é“ºé˜²æ»‘å«ï¼Œé¿å…ä½¿ç”¨æŠ›å…‰åœ°ç –ã€‚å®¤å†…å…‰çº¿è¦å……è¶³ï¼Œé¿å…å¤œé—´è¡Œèµ°æ—¶çœ‹ä¸æ¸…ã€‚",
                        isRelevant: true
                    },
                    {
                        id: "DOC004",
                        content: "é«˜è¡€å‹æ‚£è€…èµ·åºŠæ—¶åº”æ…¢ï¼Œå…ˆåœ¨åºŠä¸Šåä¸€ä¼šå„¿ï¼Œå†ç¼“æ…¢ç«™èµ·æ¥ã€‚èµ·åºŠè¿‡å¿«å¯èƒ½å¯¼è‡´ä½“ä½æ€§ä½è¡€å‹ï¼Œå¼•èµ·å¤´æ™•è·Œå€’ã€‚",
                        isRelevant: false
                    },
                    {
                        id: "DOC005",
                        content: "è€å¹´äººåº”è¿›è¡Œé€‚å½“çš„å¹³è¡¡è®­ç»ƒå’Œè‚Œè‚‰åŠ›é‡é”»ç‚¼ï¼Œå¦‚å¤ªæã€å¹³è¡¡çƒç­‰ã€‚è¿™äº›è¿åŠ¨å¯ä»¥æé«˜èº«ä½“åè°ƒæ€§ï¼Œé™ä½è·Œå€’é£é™©ã€‚",
                        isRelevant: true
                    }
                ]
            }
        ];

        let currentQueryIndex = 0;
        let userAnnotations = {};

        function debugLog(message) {
            const log = document.getElementById('debug-log');
            const timestamp = new Date().toLocaleTimeString();
            log.innerHTML += `<div>[${timestamp}] ${message}</div>`;
            console.log(message);
        }

        // åˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', function() {
            debugLog('DOMåŠ è½½å®Œæˆ');
            try {
                renderDocs();
                debugLog('åˆå§‹æ–‡æ¡£æ¸²æŸ“å®Œæˆ');
            } catch (error) {
                debugLog(`é”™è¯¯: ${error.message}`);
                console.error(error);
            }
        });

        // é€‰æ‹©æŸ¥è¯¢
        function selectQuery(index) {
            debugLog(`ç‚¹å‡»æŒ‰é’®: selectQuery(${index})`);
            
            try {
                currentQueryIndex = index;
                userAnnotations = {};

                document.querySelectorAll('.query-btn').forEach((btn, i) => {
                    btn.classList.toggle('active', i === index);
                });

                const selectedQuery = testQueries[index];
                debugLog(`é€‰ä¸­æŸ¥è¯¢: "${selectedQuery.query}"`);
                debugLog(`æ–‡æ¡£æ•°é‡: ${selectedQuery.documents.length}`);

                document.getElementById('current-query').textContent = selectedQuery.query;

                renderDocs();
                debugLog('æ–‡æ¡£åˆ—è¡¨æ›´æ–°å®Œæˆ');
            } catch (error) {
                debugLog(`é”™è¯¯: ${error.message}`);
                console.error(error);
            }
        }

        // æ¸²æŸ“æ–‡æ¡£åˆ—è¡¨
        function renderDocs() {
            debugLog('å¼€å§‹æ¸²æŸ“æ–‡æ¡£...');
            
            try {
                const container = document.getElementById('docs-container');
                const documents = testQueries[currentQueryIndex].documents;
                
                container.innerHTML = '';
                
                documents.forEach((doc, index) => {
                    debugLog(`å¤„ç†æ–‡æ¡£ ${index + 1}/${documents.length}: ${doc.id}`);
                    debugLog(`AIæ ‡æ³¨: ${doc.isRelevant ? 'ç›¸å…³' : 'ä¸ç›¸å…³'}`);

                    const docElement = document.createElement('div');
                    docElement.className = 'doc-item';
                    docElement.id = `doc-${doc.id}`;

                    // æ˜¾ç¤ºAIæ ‡æ³¨
                    const aiAnnotation = doc.isRelevant ? 'âœ“ AIåˆ¤å®š: ç›¸å…³' : 'âœ— AIåˆ¤å®š: ä¸ç›¸å…³';
                    const aiAnnotationClass = doc.isRelevant ? 'ai-relevant' : 'ai-irrelevant';

                    docElement.innerHTML = `
                        <div class="doc-header">
                            <span class="doc-id">${doc.id}</span>
                            <span class="ai-annotation ${aiAnnotationClass}">${aiAnnotation}</span>
                            <div class="doc-actions">
                                <button class="relevant-btn" onclick="toggleRelevance('${doc.id}', true)">
                                    âœ“ æˆ‘è§‰å¾—ç›¸å…³
                                </button>
                                <button class="irrelevant-btn" onclick="toggleRelevance('${doc.id}', false)">
                                    âœ— æˆ‘è§‰å¾—ä¸ç›¸å…³
                                </button>
                            </div>
                        </div>
                        <div class="doc-content">${doc.content}</div>
                    `;

                    container.appendChild(docElement);
                });
                
                debugLog(`æˆåŠŸæ¸²æŸ“ ${documents.length} ä¸ªæ–‡æ¡£`);
            } catch (error) {
                debugLog(`æ¸²æŸ“é”™è¯¯: ${error.message}`);
                console.error(error);
            }
        }

        // åˆ‡æ¢æ ‡æ³¨
        function toggleRelevance(docId, isRelevant) {
            debugLog(`æ ‡æ³¨æ“ä½œ: ${docId} -> ${isRelevant ? 'ç›¸å…³' : 'ä¸ç›¸å…³'}`);

            try {
                const docElement = document.getElementById(`doc-${docId}`);
                const relevantBtn = docElement.querySelector('.relevant-btn');
                const irrelevantBtn = docElement.querySelector('.irrelevant-btn');

                // è·å–AIçš„æ ‡æ³¨
                const currentDoc = testQueries[currentQueryIndex].documents.find(d => d.id === docId);
                const aiAnnotation = currentDoc.isRelevant;

                if (userAnnotations[docId] === isRelevant) {
                    delete userAnnotations[docId];
                    relevantBtn.classList.remove('active');
                    irrelevantBtn.classList.remove('active');
                    docElement.classList.remove('relevant', 'irrelevant');
                    debugLog(`å–æ¶ˆæ ‡æ³¨: ${docId}`);
                } else {
                    userAnnotations[docId] = isRelevant;
                    relevantBtn.classList.add('active');
                    irrelevantBtn.classList.add('active');
                    docElement.classList.remove('relevant', 'irrelevant');
                    docElement.classList.add(isRelevant ? 'relevant' : 'irrelevant');

                    // å¯¹æ¯”AIæ ‡æ³¨å’Œäººå·¥æ ‡æ³¨
                    const isMatch = aiAnnotation === isRelevant;
                    if (isMatch) {
                        debugLog(`âœ… ${docId}: AIæ ‡æ³¨ä¸äººå·¥æ ‡æ³¨ä¸€è‡´`);
                    } else {
                        debugLog(`âŒ ${docId}: AIæ ‡æ³¨(${aiAnnotation ? 'ç›¸å…³' : 'ä¸ç›¸å…³'}) â‰  äººå·¥æ ‡æ³¨(${isRelevant ? 'ç›¸å…³' : 'ä¸ç›¸å…³'})`);
                    }
                }

                // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
                updateStats();
            } catch (error) {
                debugLog(`æ ‡æ³¨é”™è¯¯: ${error.message}`);
                console.error(error);
            }
        }

        // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
        function updateStats() {
            const documents = testQueries[currentQueryIndex].documents;
            let totalDocs = documents.length;
            let annotatedDocs = Object.keys(userAnnotations).length;
            let matches = 0;

            Object.keys(userAnnotations).forEach(docId => {
                const doc = documents.find(d => d.id === docId);
                if (doc && doc.isRelevant === userAnnotations[docId]) {
                    matches++;
                }
            });

            const agreementRate = annotatedDocs > 0 ? ((matches / annotatedDocs) * 100).toFixed(1) : 0;

            debugLog(`ğŸ“Š æ ‡æ³¨ç»Ÿè®¡: å·²æ ‡æ³¨ ${annotatedDocs}/${totalDocs}, ä¸€è‡´ç‡ ${agreementRate}%`);
        }
    </script>
</body>
</html>